<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Reimagined</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-bg: rgba(10, 10, 10, 0.6);
            --accent-primary: #4f46e5;
            --accent-secondary: #ec4899;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: #050505;
            color: #ffffff;
            overflow: hidden; /* Prevent body scroll, handle inside main */
        }

        .font-display {
            font-family: 'Space Grotesk', sans-serif;
        }

        /* Animated Background Blobs */
        .blob {
            position: absolute;
            filter: blur(80px);
            z-index: -1;
            opacity: 0.6;
            animation: float 20s infinite ease-in-out;
        }
        .blob-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: radial-gradient(circle, #4f46e5 0%, transparent 70%); }
        .blob-2 { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: radial-gradient(circle, #ec4899 0%, transparent 70%); animation-delay: -5s; }
        .blob-3 { top: 40%; left: 40%; width: 40vw; height: 40vw; background: radial-gradient(circle, #06b6d4 0%, transparent 70%); animation-delay: -10s; }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
        }

        /* Glassmorphism Utilities */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
        }

        /* Scrollbar Hide */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Custom Text Gradient */
        .text-gradient {
            background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .brand-gradient {
            background: linear-gradient(90deg, #4f46e5, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Input Animation */
        .input-glow:focus-within {
            box-shadow: 0 0 30px -5px rgba(79, 70, 229, 0.3);
            border-color: rgba(79, 70, 229, 0.5);
        }

        /* Message Animations */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message-anim { animation: slideUp 0.5s ease forwards; }

        /* Loader */
        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: white;
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Bento Grid Specifics */
        .bento-icon {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0));
        }
    </style>
</head>
<body class="h-screen w-screen flex relative selection:bg-indigo-500 selection:text-white">

    <!-- Ambient Background -->
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
    <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none mix-blend-overlay"></div>

    <!-- Sidebar (Collapsible Glass Dock) -->
    <nav id="sidebar" class="hidden md:flex flex-col w-20 lg:w-72 h-[96%] my-auto ml-4 rounded-3xl glass-panel z-20 transition-all duration-300 group">
        <!-- Logo Area -->
        <div class="p-6 flex items-center justify-between">
            <div class="flex items-center gap-3 cursor-pointer">
                <div class="relative w-8 h-8 flex items-center justify-center">
                    <svg class="w-full h-full text-white" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z" fill="url(#paint0_linear)" />
                        <defs>
                            <linearGradient id="paint0_linear" x1="2" y1="2" x2="22" y2="22" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#4F46E5"/>
                                <stop offset="1" stop-color="#EC4899"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="absolute inset-0 blur-md bg-indigo-500 opacity-40"></div>
                </div>
                <span class="font-display font-bold text-xl tracking-wide hidden lg:block bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">Gemini</span>
            </div>
            <button class="lg:hidden text-gray-400 hover:text-white">
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
            </button>
        </div>

        <!-- New Chat Button -->
        <div class="px-4 mb-6">
            <button onclick="resetChat()" class="w-full h-12 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 flex items-center justify-center lg:justify-start lg:px-4 gap-3 transition-all duration-300 hover:shadow-[0_0_20px_rgba(255,255,255,0.1)] group-hover:scale-[1.02]">
                <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"/></svg>
                <span class="hidden lg:block font-medium text-sm text-gray-200">Nouvelle discussion</span>
            </button>
        </div>

        <!-- History List (Fading) -->
        <div class="flex-1 overflow-y-auto no-scrollbar px-4 space-y-2">
            <div class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-3 pl-2 hidden lg:block">Récents</div>
            <!-- History Items -->
            <div class="group/item flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 cursor-pointer transition-colors">
                <svg class="w-4 h-4 text-gray-500 group-hover/item:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                <span class="hidden lg:block text-sm text-gray-400 group-hover/item:text-white truncate">Analyse financière Q3</span>
            </div>
            <div class="group/item flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 cursor-pointer transition-colors">
                <svg class="w-4 h-4 text-gray-500 group-hover/item:text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 16l4.586-4.586a2 2 0 0 1 2.828 0L16 16m-2-2l1.586-1.586a2 2 0 0 1 2.828 0L20 14m-6-6h.01M6 20h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z"/></svg>
                <span class="hidden lg:block text-sm text-gray-400 group-hover/item:text-white truncate">Génération logo startup</span>
            </div>
             <div class="group/item flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 cursor-pointer transition-colors">
                <svg class="w-4 h-4 text-gray-500 group-hover/item:text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg>
                <span class="hidden lg:block text-sm text-gray-400 group-hover/item:text-white truncate">Refactorisation Python</span>
            </div>
        </div>

        <!-- User Profile (Bottom) -->
        <div class="p-4 mt-auto border-t border-white/5">
            <div class="flex items-center gap-3 p-2 rounded-xl hover:bg-white/5 cursor-pointer">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" class="w-8 h-8 rounded-full border border-white/20">
                <div class="hidden lg:flex flex-col">
                    <span class="text-sm font-semibold">Utilisateur</span>
                    <span class="text-[10px] text-gray-500">Gemini Advanced</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col relative h-full w-full max-w-7xl mx-auto">
        
        <!-- Header Mobile -->
        <div class="md:hidden flex items-center justify-between p-4 glass-panel m-4 rounded-xl">
             <span class="font-display font-bold text-xl brand-gradient">Gemini</span>
             <button class="text-white"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16"/></svg></button>
        </div>

        <!-- Chat Scroll Area -->
        <div id="chat-container" class="flex-1 overflow-y-auto no-scrollbar p-4 md:p-8 lg:px-24 pb-40 scroll-smooth">
            
            <!-- Hero / Zero State -->
            <div id="hero-section" class="h-full flex flex-col justify-center items-center transition-all duration-500">
                <div class="mb-8 relative">
                    <h1 class="font-display text-5xl md:text-7xl font-bold text-center leading-tight mb-2">
                        <span class="block text-gray-500 opacity-50 text-4xl md:text-5xl mb-2">Bonjour, Alex.</span>
                        <span class="brand-gradient">Prêt à créer ?</span>
                    </h1>
                </div>

                <!-- Bento Grid Suggestions -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 w-full max-w-4xl opacity-0 animate-[slideUp_0.8s_ease-out_0.2s_forwards]">
                    
                    <!-- Card 1: Creative -->
                    <button class="glass-card p-5 rounded-2xl flex flex-col justify-between h-40 md:col-span-2 group text-left" onclick="fillInput('Crée une image surréaliste d\'une ville dans les nuages.')">
                        <div class="w-10 h-10 rounded-full bento-icon flex items-center justify-center border border-white/10 group-hover:border-pink-500/50 transition-colors">
                            <svg class="w-5 h-5 text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 16l4.586-4.586a2 2 0 0 1 2.828 0L16 16m-2-2l1.586-1.586a2 2 0 0 1 2.828 0L20 14m-6-6h.01M6 20h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z"/></svg>
                        </div>
                        <div>
                            <p class="font-bold text-lg mb-1 group-hover:text-pink-300 transition-colors">Imaginer</p>
                            <p class="text-xs text-gray-400">Générer des visuels conceptuels et artistiques.</p>
                        </div>
                    </button>

                    <!-- Card 2: Code -->
                    <button class="glass-card p-5 rounded-2xl flex flex-col justify-between h-40 group text-left" onclick="fillInput('Optimise ce code React pour la performance.')">
                        <div class="w-10 h-10 rounded-full bento-icon flex items-center justify-center border border-white/10 group-hover:border-cyan-500/50 transition-colors">
                            <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg>
                        </div>
                        <div>
                            <p class="font-bold text-lg mb-1 group-hover:text-cyan-300 transition-colors">Coder</p>
                            <p class="text-xs text-gray-400">Débogage et refonte.</p>
                        </div>
                    </button>

                    <!-- Card 3: Analyze -->
                    <button class="glass-card p-5 rounded-2xl flex flex-col justify-between h-40 group text-left" onclick="fillInput('Résume ce rapport en 3 points clés.')">
                        <div class="w-10 h-10 rounded-full bento-icon flex items-center justify-center border border-white/10 group-hover:border-indigo-500/50 transition-colors">
                            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
                        </div>
                        <div>
                            <p class="font-bold text-lg mb-1 group-hover:text-indigo-300 transition-colors">Analyser</p>
                            <p class="text-xs text-gray-400">Données complexes.</p>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Dynamic Chat Content (Initially Empty) -->
            <div id="chat-stream" class="flex flex-col gap-6 max-w-3xl mx-auto pt-10"></div>
        </div>

        <!-- Floating Input Area -->
        <div class="absolute bottom-6 left-0 right-0 px-4 md:px-0 flex justify-center z-30">
            <div class="w-full max-w-3xl glass-panel rounded-3xl p-2 pl-4 flex items-end gap-2 shadow-2xl input-glow transition-all duration-300 border border-white/10">
                
                <!-- Action Button -->
                <button class="w-10 h-10 mb-1 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-colors flex-shrink-0">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4" stroke-width="2" stroke-linecap="round"/></svg>
                </button>

                <!-- Input Field -->
                <textarea id="user-input" rows="1" class="w-full bg-transparent border-0 text-white placeholder-gray-500 focus:ring-0 resize-none py-3 max-h-32 text-lg" placeholder="Demandez n'importe quoi à Gemini..." oninput="autoResize(this)"></textarea>
                
                <!-- Tools -->
                <div class="flex items-center gap-1 mb-1">
                     <button class="w-10 h-10 rounded-full hover:bg-white/5 flex items-center justify-center text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 16l4.586-4.586a2 2 0 0 1 2.828 0L16 16m-2-2l1.586-1.586a2 2 0 0 1 2.828 0L20 14m-6-6h.01M6 20h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z"/></svg>
                    </button>
                    <button class="w-10 h-10 rounded-full hover:bg-white/5 flex items-center justify-center text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/></svg>
                    </button>
                    <!-- Send Button -->
                    <button onclick="sendMessage()" class="w-10 h-10 rounded-full bg-white text-black hover:scale-105 active:scale-95 transition-all flex items-center justify-center shadow-[0_0_15px_rgba(255,255,255,0.3)]">
                        <svg class="w-5 h-5 ml-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="absolute bottom-1 w-full text-center">
            <p class="text-[10px] text-gray-600">Gemini peut afficher des informations inexactes.</p>
        </div>

    </main>

    <script>
        const chatContainer = document.getElementById('chat-container');
        const heroSection = document.getElementById('hero-section');
        const chatStream = document.getElementById('chat-stream');
        const userInput = document.getElementById('user-input');

        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = textarea.scrollHeight + 'px';
        }

        // Trigger on Enter key
        userInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        function fillInput(text) {
            userInput.value = text;
            userInput.focus();
            autoResize(userInput);
        }

        function resetChat() {
            heroSection.style.display = 'flex';
            chatStream.innerHTML = '';
            // animate hero back in
            heroSection.classList.remove('opacity-0', 'hidden');
            heroSection.classList.add('opacity-100');
        }

        function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;

            // 1. Hide Hero if visible
            if (heroSection.style.display !== 'none') {
                heroSection.classList.add('opacity-0');
                setTimeout(() => {
                    heroSection.style.display = 'none';
                    heroSection.classList.remove('opacity-0');
                }, 300);
            }

            // 2. Add User Message
            addMessage(text, 'user');
            userInput.value = '';
            userInput.style.height = 'auto';

            // 3. Scroll to bottom
            scrollToBottom();

            // 4. Simulate AI Loading & Response
            const loadingId = addLoadingIndicator();
            scrollToBottom();

            setTimeout(() => {
                removeLoadingIndicator(loadingId);
                const response = generateMockResponse(text);
                addMessage(response, 'ai');
                scrollToBottom();
            }, 1500 + Math.random() * 1000);
        }

        function scrollToBottom() {
            chatContainer.scrollTo({
                top: chatContainer.scrollHeight,
                behavior: 'smooth'
            });
        }

        function addMessage(text, sender) {
            const div = document.createElement('div');
            div.className = `w-full flex ${sender === 'user' ? 'justify-end' : 'justify-start'} message-anim`;
            
            let contentHtml = '';
            
            if (sender === 'user') {
                contentHtml = `
                    <div class="max-w-[80%] bg-[#1a1a1a] border border-white/10 text-white px-5 py-3 rounded-2xl rounded-tr-sm">
                        <p class="leading-relaxed text-[15px]">${escapeHtml(text)}</p>
                    </div>
                `;
            } else {
                contentHtml = `
                    <div class="flex gap-4 max-w-[90%]">
                        <div class="w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center bg-gradient-to-br from-indigo-500 to-pink-500 shadow-[0_0_15px_rgba(79,70,229,0.4)]">
                            <svg class="w-5 h-5 text-white" viewBox="0 0 24 24" fill="none"><path d="M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z" fill="currentColor"/></svg>
                        </div>
                        <div class="flex flex-col gap-2 pt-1">
                            <div class="text-white/90 leading-relaxed font-light text-[15px]">
                                ${formatAIResponse(text)}
                            </div>
                            <div class="flex gap-2 mt-2">
                                <button class="p-1.5 rounded-lg hover:bg-white/10 text-gray-500 hover:text-white transition"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button>
                                <button class="p-1.5 rounded-lg hover:bg-white/10 text-gray-500 hover:text-white transition"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg></button>
                            </div>
                        </div>
                    </div>
                `;
            }

            div.innerHTML = contentHtml;
            chatStream.appendChild(div);
        }

        function addLoadingIndicator() {
            const id = 'loading-' + Date.now();
            const div = document.createElement('div');
            div.id = id;
            div.className = 'w-full flex justify-start message-anim';
            div.innerHTML = `
                <div class="flex gap-4">
                    <div class="w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center bg-gradient-to-br from-indigo-500 to-pink-500 animate-pulse">
                         <svg class="w-5 h-5 text-white" viewBox="0 0 24 24" fill="none"><path d="M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z" fill="currentColor"/></svg>
                    </div>
                    <div class="flex items-center gap-1 h-8">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            chatStream.appendChild(div);
            return id;
        }

        function removeLoadingIndicator(id) {
            const el = document.getElementById(id);
            if (el) el.remove();
        }

        // Mock Logic for demonstration
        function generateMockResponse(input) {
            const responses = [
                "C'est une perspective fascinante. En analysant les données actuelles, nous pouvons voir une tendance claire vers cette approche. Voici ce que j'ai trouvé...",
                "Absolument. Voici un brouillon qui pourrait correspondre à votre demande : <br><br> <span class='font-mono bg-white/10 px-1 rounded text-pink-300'>def optimize_core():</span><br>L'approche modulaire semble la plus adaptée ici.",
                "J'ai généré cette image conceptuelle pour vous. Elle utilise des teintes néons pour contraster avec l'environnement sombre, comme demandé.",
                "Voici trois points clés à retenir :<br>1. L'innovation incrémentale<br>2. La scalabilité de l'infrastructure<br>3. L'expérience utilisateur centrée"
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function formatAIResponse(text) {
            // Simple formatter to detect HTML/code-like structures
            return text;
        }

        function escapeHtml(text) {
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }
    </script>
</body>
</html>